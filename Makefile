NAME		= minishell
RM			= rm -f
CFLAGS		= -Wall -Wextra -Werror -g -pedantic -I. -ILibft -Iincludes -lreadline

# Libft
LIBFT_DIR	= Libft
LIBFT_LIB	= $(LIBFT_DIR)/libft.a

SRC		= 	main.c \
		srcs/parsing/lexer.c \
		srcs/parsing/parser.c \
		srcs/builtin/copy_free_env.c \
		srcs/builtin/ft_unset.c \
		srcs/builtin/sort_env.c \
		srcs/builtin/utils_builtin.c \
		# srcs/builtin/ft_cd.c \
		# srcs/builtin/ft_env.c \
		# srcs/builtin/ft_export.c \
		# srcs/builtin/ft_pwd.c \
		# srcs/builtin/ft_echo.c \
		# srcs/builtin/ft_exit.c \

all: $(LIBFT_LIB) $(NAME)

$(LIBFT_LIB):
	@echo "ðŸ”§ Compilando Libft..."
	$(MAKE) -C $(LIBFT_DIR)

$(NAME): $(SRC)
	@echo "ðŸš€ Creando $(NAME)..."
	$(CC) $(CFLAGS) $(SRC) -o $(NAME) $(LIBFT_LIB) -lm
	$(MAKE) kira

%.o: %.c
	@echo "ðŸ›   Compilando $<..."
	$(CC) $(CFLAGS) -c $< -o $@

clean:
	$(MAKE) clean -C $(LIBFT_DIR)

fclean: clean
	$(RM) $(NAME)
	$(MAKE) fclean -C $(LIBFT_DIR)

valgrind: $(NAME)
	@valgrind --quiet --leak-check=full --track-fds=yes --show-leak-kinds=all --track-origins=yes ./$(NAME)

re: fclean all
.SILENT:

RED			:= ${shell tput setaf 1}
BLUE		:= ${shell tput setaf 4}
NO_COLOR	:= ${shell tput sgr0}
BOLD		:= ${shell tput bold}

kira:

	@echo '                 Did you expect a text file                  '
	@echo '																'
	@echo 'â €â €â €â €â €â €â €â €â €â¢¹â¡€â €â €â €â €â €â ˜â €â£·â ‹â €â €â €â €â €â €â €â €â €â €â¢ â¡€â €â €â €â ™â¢¦â €â €â €â €â €â €â €â €â €â €â €â €â €'
	@echo 'â €â €â €â €â €â €â €â €â €â¡¼â ƒâ €â €â €â €â €â£¤â €â¢â €â €â €â €â¢ â£ â¡†â €â €â£¦â¡€â €â ³â¡€â €â €â €â €â ‘â¢„â¡€â €â €â €â €â €â €â €â €â €â ˆ'
	@echo 'â €â €â €â €â €â €â €â €â â£‡â¡€â €â €â €â €â €â ˜â ‚â¢ˆâ£¦â €â£€â¡€â ˆâ£Ÿâ¢·â£„â €â ˜â£·â£„â €â ¹â£†â €â €â €â €â €â ™â¢¦â£€â €â €â €â €â €â €â €â¢¤'
	@echo 'â €â €â €â €â â£¶â ¦â ¤â ´â ‹â â €â €â €â €â¡œâ¢·â£§â£¸â£¿â¡€â¡Ÿâ ¹â¡„â¢¹â €â£¹â£·â£¤â¡˜â£„â ™â ²â¢¬â£¿â£‰â¡‰â ‰â ‰â ‰â ‰â¢‰â£¥â£€â €â €â €â €â €â €'
	@echo 'â €â €â €â €â €â ˆâ ³â ¤â¢¤â¡€â €â €â €â €â €â¢¹â¡¾â£¿â ›â ‰â£§â¡‡â €â¢±â£¸â¡”â¢¡â â €â ‰â¢»â£¦â£¤â €â ˆâ ¹â£¿â£‚â¡€â£ â ”â¢‰â¡¤â ¾â¡†â €â €â €â €â €'
	@echo 'â €â €â €â €â €â €â €â¢€â¡žâ£§â €â €â¢ â ˆâ£‡â¢€â£¿â ƒâ €â €â ¸â£¿â£ â£¼â£Ÿâ£ â£¯â£´â¡¿â ·â£¿â Ÿâ â €â €â €â €â €â£‡â¡‡â €â¡¿â ¦â¡€â£‡â €â €â €â €â €'
	@echo 'â €â €â €â €â €â €â €â£¾â¡¼â¡‡â €â €â ˜â¡‡â£¿â£¿â£¿â¢¦â£„â£§â €â£¯â£¿â£¼â£¿â£¿â ‹â¢¿â£½â£¶â¡â €â €â €â €â €â €â €â¢»â ‡â¢€â¡‡â£ â ‡â¢¸â¡„â €â €â €â£ '
	@echo 'â €â €â €â €â €â €â €â ™â “â ³â£¤â£¶â €â£¿â ›â£¿â¢»â£·â£®â£½â¡†â ˆâ ¿â Ÿâ »â ›â ‰â ‰â ‹â ‰â €â €â €â €â €â €â €â €â ™â €â ˜â¢¿â ƒâ €â£¼â â €â €â €â¡±'
	@echo 'â €â €â €â €â €â €â €â¢€â£ â¡´â£ºâ£¿â¢ â£â¡€â ˜â¡¿â¢¿â¡¿â ¿â£·â¡„â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£€â¡ˆâ¢€â¡¾â ƒâ €â €â €â ˜â¢„'
	@echo 'â €â €â €â €â €â €â €â €â ‰â ‰â â¢¸â¡Ÿâ£¾â¡·â£„â¢¹â €â €â €â£¿â â£€â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¡â¡â ‰â €â €â €â €â €â¡â ª'
	@echo 'â €â €â €â €â €â €â €â €â €â €â €â ˆâ ƒâ ˆâ ƒâ €â ™â£‡â €â €â ™â ¦â ‰â ‰â â €â €â €â €â €â¢ â¡†â €â €â €â €â €â €â €â¢¸â ƒâ ¹â¡„â €â €â €â €â €â  â¡€'
	@echo 'â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ™â£†â €â €â¢ â£¤â£¤â¡¤â¢’â£Šâ£©â£½â£¿â£¿â €â €â €â €â €â €â €â €â¢¸â¡„â €â ™â£¿â €â¡„â €â €â €â ™'
	@echo 'â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˜â¢¦â €â ˆâ ¹â£¶â ›â£©â ”â ‹â ‰â â£¸â €â €â €â €â €â €â €â£ â¢žâ¡â €â €â¡žâ£¸â ƒâ €â €â €â €'
	@echo 'â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ³â£„â €â ˆâ£¿â£‡â£€â£€â£€â¢´â¡¿â €â €â €â €â €â£ â žâ â£¸â €â¢€â¡¼â Ÿâ ¹â¡€â €â €â €â €'
	@echo 'â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ ³â¡„â ™â ²â ¤â ¥â¢–â¡‹â €â €â €â €â¡ â Šâ â €â¢ â ‡â €â €â €â €â €â¢¹â£‰â¡‰â¢°â¡Ž'
	@echo 'â €â£€â£¤â –â ’â¢²â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ™â£†â €â ›â ‹â ‰â €â €â¢€â¡¤â Šâ €â €â €â €â žâ €â €â €â €â €â €â €â¢³â¡¼â ‹â €'
	@echo 'â ‹â¡â â €â €â €â¢±â¡€â¢€â¡´â Šâ ‰â ‰â ™â£‡â €â €â €â €â €â €â €â €â €â¢˜â£„â£€â£€â£€â¡¤â –â ‹â €â €â €â €â €â €â €â €â£€â£€â ¤â ¤â –â Šâ¢â¡ â –â ‹'
	@echo 'â ‰â ‰â ‰â ‰â ™â¡†â €â¢·â ‹â €â €â¢€â¡´â šâ â €â €â €â €â €â €â£ â ´â£šâ ­â œâ ›â¢¯â €â¡‡â €â €â£€â£€â ¤â „â ’â ’â ‰â ‰â €â£€â£€â ¤â ”â Šâ â €â €â €'
	@echo 'â ³â „â €â €â €â¡‡â¢€â¡¼â¢¦â¡€â£°â ‹â €â €â €â €â €â €â €â €â¢¸â£â£›â “â ¤â ¤â¡€â ˜â¡†â¢‡â£ â žâ¢â£ â ¤â ¤â –â ’â ’â ‰â ‰â €â €â €â €â €â €â €â €â €'
	@echo 'â €â ˆâ €â €â €â¡Ÿâ ‹â €â €â£¹â ‡â €â €â €â €â €â €â €â €â €â €â ¹â¡ˆâ ‰â ™â ¢â¡â¡„â ³â¡¼â ƒâ¡´â ‹â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €'
	@echo 'â €â¢€â €â¢€â¡´â ƒâ €â €â¡¸â â €â €â €â €â €â €â €â €â €â €â €â¢€â ‡â €â €â €â ™â¢¸â¡žâ¢ â žâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €'
	@echo 'â €â£»â ’â ‹â €â €â €â¡°â ƒâ €â €â €â €â €â €â €â£€â£€â  â ¤â ¤â ¼â¡€â €â €â €â €â¡žâ¢ â â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €'
	@echo 'â ˜â â €â €â €â €â¡°â â €â €â¢€â£ â „â ’â Šâ ‰â €â €â €â €â €â €â ˆâ¢¢â¡€â €â¢°â¢¡â ‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €'
	@echo 'â €â €â €â €â¢€â£¼â£â ¤â –â Šâ â €â €â €â €â €â €â €â €â €â €â €â €â£€â£½â£´â¡¾â Ÿâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €'
	@echo 'â €â €â¢€â£ â žâ ‰â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢ â£¼â¡Ÿâ ‹â â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €'
	@echo '                                                       	    '
	@echo 'â ‹â¡â â €â €â €â¢±â¡€â¢€â¡´â Šâ ‰â ‰â ™â£‡â €â €â €â €â €â €â €â €â €â¢˜â£„â£€â£€â£€â¡¤â –â ‹â €â €â €â €â €â €â €â €â£€â£€â ¤â ¤â –â Šâ¢â¡ â –â ‹'
	@echo 'â ‰â ‰â ‰â ‰â ™â¡†â €â¢·â ‹â €â €â¢€â¡´â šâ â €â €â €â €â €â €â£ â ´â£šâ ­â œâ ›â¢¯â €â¡‡â €â €â£€â£€â ¤â „â ’â ’â ‰â ‰â €â£€â£€â ¤â ”â Šâ â €â €â €'
	@echo 'â ³â „â €â €â €â¡‡â¢€â¡¼â¢¦â¡€â£°â ‹â €â €â €â €â €â €â €â €â¢¸â£â£›â “â ¤â ¤â¡€â ˜â¡†â¢‡â£ â žâ¢â£ â ¤â ¤â –â ’â ’â ‰â ‰â €â €â €â €â €â €â €â €â €'
	@echo 'â €â ˆâ €â €â €â¡Ÿâ ‹â €â €â£¹â ‡â €â €â €â €â €â €â €â €â €â €â ¹â¡ˆâ ‰â ™â ¢â¡â¡„â ³â¡¼â ƒâ¡´â ‹â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €'
	@echo 'â €â¢€â €â¢€â¡´â ƒâ €â €â¡¸â â €â €â €â €â €â €â €â €â €â €â €â¢€â ‡â €â €â €â ™â¢¸â¡žâ¢ â žâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €'
	@echo '																'
	@echo '                    But it was me, Dio!!                     '