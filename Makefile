NAME		= minishell
RM			= rm -f
CC			= clang
CFLAGS		= -Wall -Wextra -Werror -gdwarf-4 -pedantic -I. -ILibft -Iincludes -lreadline
VALFLAGS	= --quiet --leak-check=full --track-fds=yes --trace-children=yes --show-leak-kinds=all --track-origins=yes --suppressions=good.supp

# Libft
LIBFT_DIR	= Libft
LIBFT_LIB	= $(LIBFT_DIR)/libft.a

SRC		= 	./main.c \
		./srcs/builtin/copy_free_env_list.c \
		./srcs/builtin/ft_cd.c \
		./srcs/builtin/ft_echo.c \
		./srcs/builtin/ft_exit.c \
		./srcs/builtin/ft_export.c \
		./srcs/builtin/ft_pwd.c \
		./srcs/builtin/ft_unset.c \
		./srcs/builtin/sort_env.c \
		./srcs/builtin/utils_builtin.c \
		./srcs/builtin/utils_env.c \
		./srcs/builtin/utils_matrix_env.c \
		./srcs/parsing/close.c \
		./srcs/parsing/command_handlers.c \
		./srcs/parsing/content_parser.c \
		./srcs/parsing/dummy.c \
		./srcs/parsing/environment.c \
		./srcs/parsing/execution.c \
		./srcs/parsing/execution_utils.c \
		./srcs/parsing/expansion.c \
		./srcs/parsing/expansion_helpers.c \
		./srcs/parsing/expansion_utils.c \
		./srcs/parsing/extract.c \
		./srcs/parsing/heredoc.c \
		./srcs/parsing/heredoc_utils.c \
		./srcs/parsing/io_management.c \
		./srcs/parsing/parser.c \
		./srcs/parsing/parser_utils.c \
		./srcs/parsing/pipeline.c \
		./srcs/parsing/pipeline_main.c \
		./srcs/parsing/redirection.c \
		./srcs/parsing/shell_core.c \
		./srcs/parsing/shell_core_1.c \
		./srcs/parsing/token_utils.c \
		./srcs/parsing/tokenizer.c \
		./srcs/parsing/tokenizer_1.c \
		./srcs/parsing/utils.c \
		./srcs/parsing/utils_1.c


all: $(LIBFT_LIB) $(NAME)

$(LIBFT_LIB):
	@echo "üîß Compilando Libft..."
	$(MAKE) -C $(LIBFT_DIR)

$(NAME): $(SRC)
	@echo "üöÄ Creando $(NAME)..."
	$(CC) $(CFLAGS) $(SRC) -o $(NAME) $(LIBFT_LIB) -lm
	$(MAKE) kira

clean:
	$(MAKE) clean -C $(LIBFT_DIR)

fclean: clean
	$(RM) $(NAME)
	$(MAKE) fclean -C $(LIBFT_DIR)

val: all
	clear
	@valgrind $(VALFLAGS) ./$(NAME)

re: fclean all
.SILENT:

RED			:= ${shell tput setaf 1}
BLUE		:= ${shell tput setaf 4}
NO_COLOR	:= ${shell tput sgr0}
BOLD		:= ${shell tput bold}

kira:

	@echo '                 Did you expect a text file                  '
	@echo '																'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢π‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ò‚†Ä‚£∑‚†ã‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢†‚°Ä‚†Ä‚†Ä‚†Ä‚†ô‚¢¶‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°º‚†É‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£§‚†Ä‚¢è‚†Ä‚†Ä‚†Ä‚†Ä‚¢†‚£†‚°Ü‚†Ä‚†Ä‚£¶‚°Ä‚†Ä‚†≥‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ë‚¢Ñ‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ê‚£á‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ò‚†Ç‚¢à‚£¶‚†Ä‚£Ä‚°Ä‚†à‚£ü‚¢∑‚£Ñ‚†Ä‚†ò‚£∑‚£Ñ‚†Ä‚†π‚£Ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ô‚¢¶‚£Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢§'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚†ê‚£∂‚†¶‚†§‚†¥‚†ã‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚°ú‚¢∑‚£ß‚£∏‚£ø‚°Ä‚°ü‚†π‚°Ñ‚¢π‚†Ä‚£π‚£∑‚£§‚°ò‚£Ñ‚†ô‚†≤‚¢¨‚£ø‚£â‚°â‚†â‚†â‚†â‚†â‚¢â‚£•‚£Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†≥‚†§‚¢§‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢π‚°æ‚£ø‚†õ‚†â‚£ß‚°á‚†Ä‚¢±‚£∏‚°î‚¢°‚†è‚†Ä‚†â‚¢ª‚£¶‚£§‚†Ä‚†à‚†π‚£ø‚£Ç‚°Ä‚£†‚†î‚¢â‚°§‚†æ‚°Ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚°û‚£ß‚†Ä‚†Ä‚¢†‚†à‚£á‚¢Ä‚£ø‚†É‚†Ä‚†Ä‚†∏‚£ø‚£†‚£º‚£ü‚£†‚£Ø‚£¥‚°ø‚†∑‚£ø‚†ü‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£á‚°á‚†Ä‚°ø‚†¶‚°Ä‚£á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£æ‚°º‚°á‚†Ä‚†Ä‚†ò‚°á‚£ø‚£ø‚£ø‚¢¶‚£Ñ‚£ß‚†Ä‚£Ø‚£ø‚£º‚£ø‚£ø‚†ã‚¢ø‚£Ω‚£∂‚°è‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢ª‚†á‚¢Ä‚°á‚£†‚†á‚¢∏‚°Ñ‚†Ä‚†Ä‚†Ä‚£†'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ô‚†ì‚†≥‚£§‚£∂‚†Ä‚£ø‚†õ‚£ø‚¢ª‚£∑‚£Æ‚£Ω‚°Ü‚†à‚†ø‚†ü‚†ª‚†õ‚†â‚†â‚†ã‚†â‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ô‚†Ä‚†ò‚¢ø‚†É‚†Ä‚£º‚†Å‚†Ä‚†Ä‚†Ä‚°±'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£†‚°¥‚£∫‚£ø‚¢†‚£ç‚°Ä‚†ò‚°ø‚¢ø‚°ø‚†ø‚£∑‚°Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£Ä‚°à‚¢Ä‚°æ‚†É‚†Ä‚†Ä‚†Ä‚†ò‚¢Ñ'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†â‚†â‚†Å‚¢∏‚°ü‚£æ‚°∑‚£Ñ‚¢π‚†Ä‚†Ä‚†Ä‚£ø‚†Å‚£Ä‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°è‚°è‚†â‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°ê‚†™'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†É‚†à‚†É‚†Ä‚†ô‚£á‚†Ä‚†Ä‚†ô‚†¶‚†â‚†â‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢†‚°Ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢∏‚†É‚†π‚°Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚††‚°Ä'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ô‚£Ü‚†Ä‚†Ä‚¢†‚£§‚£§‚°§‚¢í‚£ä‚£©‚£Ω‚£ø‚£ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢∏‚°Ñ‚†Ä‚†ô‚£ø‚†Ä‚°Ñ‚†Ä‚†Ä‚†Ä‚†ô'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ò‚¢¶‚†Ä‚†à‚†π‚£∂‚†õ‚£©‚†î‚†ã‚†â‚†Å‚£∏‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£†‚¢û‚°Å‚†Ä‚†Ä‚°û‚£∏‚†É‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†≥‚£Ñ‚†Ä‚†à‚£ø‚£á‚£Ä‚£Ä‚£Ä‚¢¥‚°ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£†‚†û‚†Å‚£∏‚†Ä‚¢Ä‚°º‚†ü‚†π‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†≥‚°Ñ‚†ô‚†≤‚†§‚†•‚¢ñ‚°ã‚†Ä‚†Ä‚†Ä‚†Ä‚°†‚†ä‚†Å‚†Ä‚¢†‚†á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢π‚£â‚°â‚¢∞‚°é'
	@echo '‚†Ä‚£Ä‚£§‚†ñ‚†í‚¢≤‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ô‚£Ü‚†Ä‚†õ‚†ã‚†â‚†Ä‚†Ä‚¢Ä‚°§‚†ä‚†Ä‚†Ä‚†Ä‚†Ä‚†û‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢≥‚°º‚†ã‚†Ä'
	@echo '‚†ã‚°ù‚†Å‚†Ä‚†Ä‚†Ä‚¢±‚°Ä‚¢Ä‚°¥‚†ä‚†â‚†â‚†ô‚£á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢ò‚£Ñ‚£Ä‚£Ä‚£Ä‚°§‚†ñ‚†ã‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£Ä‚£Ä‚†§‚†§‚†ñ‚†ä‚¢Å‚°†‚†ñ‚†ã'
	@echo '‚†â‚†â‚†â‚†â‚†ô‚°Ü‚†Ä‚¢∑‚†ã‚†Ä‚†Ä‚¢Ä‚°¥‚†ö‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£†‚†¥‚£ö‚†≠‚†ú‚†õ‚¢Ø‚†Ä‚°á‚†Ä‚†Ä‚£Ä‚£Ä‚†§‚†Ñ‚†í‚†í‚†â‚†â‚†Ä‚£Ä‚£Ä‚†§‚†î‚†ä‚†Å‚†Ä‚†Ä‚†Ä'
	@echo '‚†≥‚†Ñ‚†Ä‚†Ä‚†Ä‚°á‚¢Ä‚°º‚¢¶‚°Ä‚£∞‚†ã‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢∏‚£è‚£õ‚†ì‚†§‚†§‚°Ä‚†ò‚°Ü‚¢á‚£†‚†û‚¢Å‚£†‚†§‚†§‚†ñ‚†í‚†í‚†â‚†â‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '‚†Ä‚†à‚†Ä‚†Ä‚†Ä‚°ü‚†ã‚†Ä‚†Ä‚£π‚†á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†π‚°à‚†â‚†ô‚†¢‚°ù‚°Ñ‚†≥‚°º‚†É‚°¥‚†ã‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '‚†Ä‚¢Ä‚†Ä‚¢Ä‚°¥‚†É‚†Ä‚†Ä‚°∏‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚†á‚†Ä‚†Ä‚†Ä‚†ô‚¢∏‚°û‚¢†‚†û‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '‚†Ä‚£ª‚†í‚†ã‚†Ä‚†Ä‚†Ä‚°∞‚†É‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£Ä‚£Ä‚††‚†§‚†§‚†º‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°û‚¢†‚†è‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '‚†ò‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚°∞‚†Å‚†Ä‚†Ä‚¢Ä‚£†‚†Ñ‚†í‚†ä‚†â‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚¢¢‚°Ä‚†Ä‚¢∞‚¢°‚†á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£º‚£Å‚†§‚†ñ‚†ä‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£Ä‚£Ω‚£¥‚°æ‚†ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '‚†Ä‚†Ä‚¢Ä‚£†‚†û‚†â‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢†‚£º‚°ü‚†ã‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '                                                       	    '
	@echo '‚†ã‚°ù‚†Å‚†Ä‚†Ä‚†Ä‚¢±‚°Ä‚¢Ä‚°¥‚†ä‚†â‚†â‚†ô‚£á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢ò‚£Ñ‚£Ä‚£Ä‚£Ä‚°§‚†ñ‚†ã‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£Ä‚£Ä‚†§‚†§‚†ñ‚†ä‚¢Å‚°†‚†ñ‚†ã'
	@echo '‚†â‚†â‚†â‚†â‚†ô‚°Ü‚†Ä‚¢∑‚†ã‚†Ä‚†Ä‚¢Ä‚°¥‚†ö‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£†‚†¥‚£ö‚†≠‚†ú‚†õ‚¢Ø‚†Ä‚°á‚†Ä‚†Ä‚£Ä‚£Ä‚†§‚†Ñ‚†í‚†í‚†â‚†â‚†Ä‚£Ä‚£Ä‚†§‚†î‚†ä‚†Å‚†Ä‚†Ä‚†Ä'
	@echo '‚†≥‚†Ñ‚†Ä‚†Ä‚†Ä‚°á‚¢Ä‚°º‚¢¶‚°Ä‚£∞‚†ã‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢∏‚£è‚£õ‚†ì‚†§‚†§‚°Ä‚†ò‚°Ü‚¢á‚£†‚†û‚¢Å‚£†‚†§‚†§‚†ñ‚†í‚†í‚†â‚†â‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '‚†Ä‚†à‚†Ä‚†Ä‚†Ä‚°ü‚†ã‚†Ä‚†Ä‚£π‚†á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†π‚°à‚†â‚†ô‚†¢‚°ù‚°Ñ‚†≥‚°º‚†É‚°¥‚†ã‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '‚†Ä‚¢Ä‚†Ä‚¢Ä‚°¥‚†É‚†Ä‚†Ä‚°∏‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚†á‚†Ä‚†Ä‚†Ä‚†ô‚¢∏‚°û‚¢†‚†û‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä'
	@echo '																'
	@echo '                    But it was me, Dio!!                     '